webpackJsonp([18],{"2hv4":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e={data:function(){return{isEdit:!1,isFilter:!1}},computed:{historyData:function(){var t=this.$store.state.historyData;return t.list.forEach(function(t){t.isOn=!1}),t},ableDelete:function(){var t=0;if(!this.historyData)return t;for(var s=0;s<this.historyData.list.length;s++)for(var i=0;i<this.historyData.list[s].list.length;i++)this.historyData.list[s].list[i].isOn&&++t;return t},isSelectAll:function(){if(!this.historyData)return!0;for(var t=0;t<this.historyData.list.length;t++)for(var s=0;s<this.historyData.list[t].list.length;s++)if(!this.historyData.list[t].list[s].isOn)return!1;return!0}},methods:{back:function(){window.history.go(-1)},isAllShort:function(t){var s=0;return t.forEach(function(t){if(!t.isShort)return!1;++s}),s===t.length},selectItem:function(t,s){var i=this.historyData.list[t].list[s].isOn;this.$set(this.historyData.list[t].list[s],"isOn",!i)},selectAll:function(){for(var t=0;t<this.historyData.list.length;t++)for(var s=0;s<this.historyData.list[t].list.length;s++)this.$set(this.historyData.list[t].list[s],"isOn",!0)},notSelectAll:function(){for(var t=0;t<this.historyData.list.length;t++)for(var s=0;s<this.historyData.list[t].list.length;s++)this.$set(this.historyData.list[t].list[s],"isOn",!1)},selectMore:function(){this.isSelectAll?this.notSelectAll():this.selectAll()},deleteSelect:function(){if(!this.ableDelete)return!1;for(var t=0;t<this.historyData.list.length;t++)for(var s=this.historyData.list[t].list.length-1;s>=0;s--)this.historyData.list[t].list[s].isOn&&this.historyData.list[t].list.splice(s,1)}}},a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"header"},[i("v-mHeaderTop"),t._v(" "),i("div",{staticClass:"title-row"},[i("a",{staticClass:"back",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.back(s)}}},[i("i",{staticClass:"c-glyphicon c-glyphicon-arrowLeft"})]),t._v(" "),i("div",{staticClass:"title"},[t._v("播放记录")]),t._v(" "),i("a",{staticClass:"toggle-edit",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.isEdit=!t.isEdit}}},[t._v("\n\t\t\t\t"+t._s(t.isEdit?"取消":"编辑")+"\n\t\t\t")])]),t._v(" "),i("div",{staticClass:"filter-row"},[t._m(0),t._v(" "),i("div",{class:["filter",{on:t.isFilter}],on:{click:function(s){s.preventDefault(),t.isFilter=!t.isFilter}}},[i("i",{staticClass:"c-glyphicon c-glyphicon-checkbox"}),t._v(" "),i("span",[t._v("过滤短视频")])])])],1),t._v(" "),t.historyData?i("div",{staticClass:"main"},[t._l(t.historyData.list,function(s,e){return i("div",{staticClass:"history-list"},[s.list&&s.list.length>1?i("div",{directives:[{name:"show",rawName:"v-show",value:!(t.isAllShort(s.list)&&t.isFilter),expression:"!(isAllShort(item.list)&&isFilter)"}],staticClass:"title"},[t._v("\n\t\t\t\t"+t._s(s.time)+"\n\t\t\t")]):t._e(),t._v(" "),t._l(s.list,function(s,a){return i("a",{directives:[{name:"show",rawName:"v-show",value:!(s.isShort&&t.isFilter),expression:"!(item2.isShort&&isFilter)"}],class:["item",{eidt:t.isEdit}],attrs:{href:"#"}},[i("div",{class:["checkbox",{on:s.isOn}],on:{click:function(s){return s.preventDefault(),t.selectItem(e,a)}}},[i("i",{staticClass:"c-glyphicon c-glyphicon-checkbox"})]),t._v(" "),i("a",{staticClass:"cover",attrs:{href:"#"}},[i("img",{attrs:{src:s.img,alt:""}}),t._v(" "),i("span",[t._v(t._s(s.length))])]),t._v(" "),i("p",{staticClass:"name"},[t._v(t._s(s.name))]),t._v(" "),i("p",{staticClass:"bottom"},[i("i",{staticClass:"c-glyphicon c-glyphicon-computer"}),t._v("\n\t\t\t\t\t"+t._s("已看完"==s.surplusLen?s.surplusLen:"剩余"+s.surplusLen)+"\n\t\t\t\t")])])})],2)}),t._v(" "),i("p",{staticClass:"last-text"},[t._v("没有更多了")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEdit,expression:"isEdit"}],staticClass:"ctrl"},[i("span",{staticClass:"all",on:{click:function(s){return s.preventDefault(),t.selectMore(s)}}},[t._v(t._s(t.isSelectAll?"取消全选":"全选"))]),t._v(" "),i("span",{staticClass:"separate"},[t._v("|")]),t._v(" "),i("span",{class:["delete",{able:t.ableDelete}],on:{click:function(s){return s.preventDefault(),t.deleteSelect(s)}}},[t._v("\n\t\t\t\t删除"+t._s(t.ableDelete>0?t.ableDelete:"")+"\n\t\t\t")])])],2):t._e(),t._v(" "),i("v-mFooter")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"text"},[s("i",{staticClass:"c-myicon c-myicon-suo suo"}),this._v("播放记录仅本人可见")])}]};var l=i("VU/8")(e,a,!1,function(t){i("WRqs")},"data-v-382b38ac",null);s.default=l.exports},WRqs:function(t,s){}});
//# sourceMappingURL=18.21be1901b312e1a59f4e.js.map