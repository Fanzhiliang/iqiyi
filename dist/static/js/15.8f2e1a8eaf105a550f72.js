webpackJsonp([15],{XvRQ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{keyword:"",isFocus:!1,historySearch:[],otherSearch:[]}},computed:{placeholder:function(){return this.$store.state.keyword},hotSearch:function(){return this.$store.state.hotSearch},closeStyle:function(){return{opacity:this.keyword.trim().length>0&&this.isFocus?1:0}}},methods:{clearKeyword:function(){this.keyword=""},back:function(){window.history.go(-1)},getHistorySearch:function(){var t=this.GLOBAL.getData("historySearch");t&&"[object Array]"===Object.prototype.toString.call(t)&&(this.historySearch=t)},formSubmit:function(){var t=this;this.keyword.trim().length>0&&this.$http.get("../../static/data/success.json").then(function(e){200===e.data.code?(t.historySearch.unshift(t.keyword),t.historySearch=t.GLOBAL.arrayDeleteRepeat(t.historySearch),t.historySearch=t.historySearch.slice(0,3),t.GLOBAL.setData("historySearch",t.historySearch),t.keyword=""):console.log(e.data.data.message)},function(t){console.log("fail:"),console.log(t)})},clearHistory:function(){this.historySearch=[],this.GLOBAL.removeData("historySearch")},inputChange:function(){var t=this;this.keyword.trim().length>0&&this.$http.get("../../static/data/otherSearch.json").then(function(e){200===e.data.code?t.otherSearch=e.data.data.list:(console.log("获得类似搜索信息失败:"),console.log(e.data.data.message))},function(t){console.log("获得类似搜索信息失败:"),console.log(t)})}},created:function(){this.getHistorySearch()}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap"},[s("div",{staticClass:"header"},[s("div",{staticClass:"top clearfix"},[s("router-link",{staticClass:"logo",attrs:{to:"/"}}),t._v(" "),s("div",{staticClass:"right-side  clearfix"},[s("form",{staticClass:"search",attrs:{action:""}},[s("i",{staticClass:"c-glyphicon c-glyphicon-searchfine"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.keyword},on:{focus:function(e){t.isFocus=!0},blur:function(e){t.isFocus=!1},input:[function(e){e.target.composing||(t.keyword=e.target.value)},t.inputChange]}}),t._v(" "),s("i",{staticClass:"c-glyphicon c-glyphicon-close",style:t.closeStyle,on:{click:t.clearKeyword}})]),t._v(" "),s("div",{staticClass:"but"},[this.keyword.trim().length>0?s("a",{staticClass:"submit",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.formSubmit(e)}}},[t._v("搜索")]):s("a",{staticClass:"cancel",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.back(e)}}},[t._v("取消")])])])],1)]),t._v(" "),s("div",{staticClass:"main"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.historySearch.length>0,expression:"historySearch.length > 0"}],staticClass:"row-title"},[s("span",[t._v("搜索历史")]),t._v(" "),s("span",{staticClass:"clear-history",on:{click:function(e){return e.preventDefault(),t.clearHistory(e)}}},[t._v("清空记录")])]),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.historySearch.length>0,expression:"historySearch.length > 0"}],staticClass:"row-value"},t._l(t.historySearch,function(e){return s("li",[s("a",{attrs:{href:"#"}},[t._v(t._s(e))])])})),t._v(" "),t._m(0),t._v(" "),s("ul",{staticClass:"row-value"},t._l(t.hotSearch,function(e,a){return s("li",[s("a",{attrs:{href:"#"}},[s("span",{staticClass:"num"},[t._v(t._s(a+1))]),t._v(t._s(e)+"\n\t\t\t\t")])])})),t._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.keyword.trim().length>0,expression:"keyword.trim().length > 0"}],staticClass:"other-search"},t._l(t.otherSearch,function(e){return s("li",[s("a",{attrs:{href:"#"}},[t._v(t._s(e))])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row-title"},[e("span",[this._v("热门搜索")])])}]};var o=s("vSla")(a,r,!1,function(t){s("svxX")},"data-v-4c095f2e",null);e.default=o.exports},svxX:function(t,e){}});
//# sourceMappingURL=15.8f2e1a8eaf105a550f72.js.map