webpackJsonp([1],{"3CBq":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:["isTop"],data:function(){return{historySearch:[],otherSearch:[],isShowList:!1,keyword:""}},computed:{inputStyle:function(){return this.keyword.trim().length>0?{color:"rgb(204, 204, 204)"}:{color:"#999"}},placeholder:function(){return this.$store.state.hotSearch[0]},hotSearch:function(){return this.$store.state.hotSearch}},methods:{getHistorySearch:function(){var t=this.GLOBAL.getData("historySearch");t&&"[object Array]"===Object.prototype.toString.call(t)&&(this.historySearch=t)},listShow:function(){this.isShowList=!0},formSubmit:function(){var t=this;this.keyword.trim().length>0&&this.$http.get("../../static/data/success.json").then(function(e){200===e.data.code?(t.historySearch.unshift(t.keyword),t.historySearch=t.GLOBAL.arrayDeleteRepeat(t.historySearch),t.historySearch=t.historySearch.slice(0,3),t.GLOBAL.setData("historySearch",t.historySearch),t.keyword=""):console.log(e.data.data.message)},function(t){console.log("fail:"),console.log(t)})},clearHistory:function(){this.historySearch=[],this.GLOBAL.removeData("historySearch")},inputChange:function(){var t=this;this.keyword.trim().length>0&&this.$http.get("../../static/data/otherSearch.json").then(function(e){200===e.data.code?t.otherSearch=e.data.data.list:(console.log("获得类似搜索信息失败:"),console.log(e.data.data.message))},function(t){console.log("获得类似搜索信息失败:"),console.log(t)})},exit:function(){this.$emit("exit")}},watch:{keyword:function(t){0==t.trim().length&&(this.otherSearch=[])}},created:function(){this.getHistorySearch()},mounted:function(){var t=this;document.addEventListener("click",function(){t.isShowList=!1})}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header",class:{fade:!t.isTop}},[s("div",{staticClass:"header-inner clearfix"},[t._m(0),t._v(" "),s("div",{staticClass:"header-search"},[s("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.formSubmit(e)}}},[s("div",{staticClass:"serach-text"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],style:t.inputStyle,attrs:{type:"text",name:"keyword",id:"keyword",autocomplete:"off",placeholder:t.placeholder},domProps:{value:t.keyword},on:{click:function(e){return e.stopPropagation(),t.listShow(e)},input:[function(e){e.target.composing||(t.keyword=e.target.value)},t.inputChange]}}),t._v(" "),t._m(1)]),t._v(" "),t._m(2),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowList,expression:"isShowList"}],staticClass:"datalist"},[0==t.otherSearch.length?[t.historySearch.length>0?s("div",{staticClass:"list-head clearfix"},[s("span",{staticClass:"title"},[t._v("历史搜索")]),t._v(" "),s("a",{staticClass:"clear",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.clearHistory(e)}}},[s("i",{staticClass:"qy-svgicon qy-svgicon-trashcan"}),t._v("\n\t\t\t\t\t\t\t\t\t清除记录\n\t\t\t\t\t\t\t\t")])]):t._e(),t._v(" "),t._l(t.historySearch,function(e){return s("a",{staticClass:"list-item",attrs:{href:"#"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t")])}),t._v(" "),s("div",{staticClass:"list-head"},[s("span",{staticClass:"title"},[t._v("热门搜索")])]),t._v(" "),t._l(t.hotSearch,function(e,a){return s("a",{staticClass:"list-item",attrs:{href:"#"}},[s("span",{staticClass:"num"},[t._v(t._s(a+1))]),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t")])})]:t._l(t.otherSearch,function(e){return s("a",{staticClass:"list-item",attrs:{href:"#"}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t")])})],2)])],1)]),t._v(" "),s("v-pcHeaderSide",{on:{exit:t.exit}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"header-logo",attrs:{href:"#"}},[e("img",{attrs:{src:"/static/img/sprite-headLogo-index.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"camera",attrs:{href:"#"}},[e("i",{staticClass:"qy-svgicon qy-svgicon-camera"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{attrs:{type:"submit"}},[e("i",{staticClass:"qy-svgicon qy-svgicon-search"}),this._v(" "),e("span",[this._v("搜全网")])])}]};var r=s("vSla")(a,i,!1,function(t){s("qWF2"),s("LBaC")},"data-v-696b8744",null);e.default=r.exports},LBaC:function(t,e){},qWF2:function(t,e){}});
//# sourceMappingURL=1.e7047cd769cc18c4e0dc.js.map